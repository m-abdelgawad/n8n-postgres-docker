#############################################
# Core service settings
#############################################
# Hostname that users (and webhooks) reach
N8N_HOST=n8n.automagicdeveloper.com
# Internal port stays 5678
N8N_PORT=5678
# Force https because nginx will terminate TLS
N8N_PROTOCOL=https
# Public URL used in webhooks & OAuth flows
WEBHOOK_URL=https://n8n.automagicdeveloper.com/

#############################################
# Security (HTTP-basic auth for UI)
#############################################
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=###
N8N_BASIC_AUTH_PASSWORD=###

#############################################
# Time zone & environment
#############################################
GENERIC_TIMEZONE=Africa/Cairo
NODE_ENV=production

#############################################
# (Optional) Postgres – enable if you add DB
#############################################
DB_TYPE=postgresdb
DB_POSTGRESDB_HOST=postgres_db
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_DATABASE=n8n
DB_POSTGRESDB_USER=###
DB_POSTGRESDB_PASSWORD=###

#############################################
# Recommended additions to fix connection & deprecation
#############################################

# Enables WebSocket for editor ↔ backend communication
# Prevents “Connection lost” error and enables live updates
N8N_PUSH_BACKEND=websocket

# Informs n8n it’s running behind exactly one reverse proxy (Nginx)
# Prevents invalid Host/Origin checks that can break sessions/sockets
N8N_PROXY_HOPS=1

# Explicitly define the public editor base URL
# Used in redirect links, share/embed features, and OAuth flows
N8N_EDITOR_BASE_URL=https://n8n.automagicdeveloper.com

# Enables task runners (recommended for stability and future features)
# Will be required in future n8n versions
N8N_RUNNERS_ENABLED=true

# Automatically fix overly-permissive config file permissions on startup
# Prevents logs like “Permissions 0644 ... too wide”
N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true

# Optional: Disable anonymous usage telemetry (privacy, cleaner logs)
N8N_DIAGNOSTICS_ENABLED=false

